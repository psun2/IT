<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      09. Message Queue and Event Loop (메시지 큐 및 이벤트 루프)
    </title>
  </head>
  <body>
    <h1>blocking 언어(Language)</h1>
    <span>python</span>
    <h1>none blocking언어(Language)</h1>
    <span>JavaScript</span>
    <p>
      input Element 로 예를 들겠습니다. 만약 자바스크립트가 blocking 언어
      였다면, 유저는 input 에 타이핑을 할 수 가 없습니다. 왜냐면 자바스크립트는
      API fetch를 핸들링하느라 바쁠 것 입니다.
    </p>
    <p>
      alert()는 blocking 함수 입니다. alert()가 끝날때 까지 자바스크립트는
      아무런 코드 실행을 하지 않습니다.
    </p>
    <h1>fetch() 함수 와 setTimeout() 함수의 작동원리</h1>
    <p>
      setTimeout(() => console.log('hi'), 0); console.log('bye'); 위와 같은
      <br />
      코드가 있을경우 자바스크립트는 코드를 실행하기위해 Stack으로 가져갑니다.
      <br />
      Stack에서 setTimeout() 함수를 보는 순간 자바스크립트는 브라우저가 <br />
      관리하라고, Web API로 넘겨 주게 됩니다. 그리고, Stack에 있는 <br />
      console.log('bye'); 를 먼저 실행 합니다. console.log('bye'); 가 실행된
      <br />
      이후, Web API 에 있는 console.log('hi');를 setTimeout() 함수로 인하여,
      <br />
      최소 기다려야 하는 시간을 기다린후, Queue에게 다시 전달합니다. 이 경우의
      <br />
      Queue는 Message Queue 입니다. Message Queue 는 Stack을 참조하고, 더이상
      <br />
      실행시킬 코드가 없게 되면, Message Queue의 코드를 Stack으로 보내주어
      <br />
      실행하게 되고, console.log('hi'); 를 출력 합니다. setTimeout() 함수의
      <br />
      인자로 받는 시간은 얼마나 기다려서 코드를 실행하느냐가 아니라, 최소 <br />
      기다려야하는 시간입니다. (실행하기 까지 최소 기다려야하는 시간) 그래서
      <br />
      설정한 시간을 조금 초과 할 수 있습니다. fetch() 함수의 경우 setTimeout 과
      <br />
      동일한 과정을 거쳐 실행됩니다.
    </p>
    <script type="module" src="main.js"></script>
  </body>
</html>
